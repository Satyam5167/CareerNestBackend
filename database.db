## USERS TABLE

CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name TEXT,
    email TEXT UNIQUE NOT NULL,
    password TEXT,                    -- NULL if OAuth user
    provider TEXT DEFAULT 'local',    -- local / google
    oauth_id TEXT,                    -- Google ID (nullable)
    profile_completed BOOLEAN DEFAULT FALSE,
    profile_picture TEXT,
    created_at TIMESTAMP DEFAULT NOW()
);

## profile TABLE

CREATE TABLE profiles (
    user_id UUID PRIMARY KEY REFERENCES users(id) ON DELETE CASCADE,

    full_name TEXT,
    university TEXT,
    cgpa NUMERIC(3,2),
    graduation_year INTEGER,
    phone TEXT,

    skills TEXT[],                    -- stores: {"node","express","javascript"}

    target_roles TEXT[],
    preferred_locations TEXT[],
    is_remote BOOLEAN DEFAULT FALSE,

    github_url TEXT,
    linkedin_url TEXT,

    updated_at TIMESTAMP DEFAULT NOW()
);